sudo: required
language: generic
matrix:
  include:
  - os: osx
    osx_image: xcode9.2
    language: generic
    env:
    - BUILD_CONFIG=release
    - BUILD_ARCHITECTURE=x86_64
  - os: osx
    osx_image: xcode9.2
    language: generic
    env:
    - BUILD_CONFIG=debug
    - BUILD_ARCHITECTURE=x86_64
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=coverage
    - BUILD_ARCHITECTURE=x86_64
    - GCC_VERSION=7
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=release
    - BUILD_ARCHITECTURE=x86_64
    - GCC_VERSION=7
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=debug
    - BUILD_ARCHITECTURE=x86_64
    - GCC_VERSION=7
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=release
    - BUILD_ARCHITECTURE=x86
    - GCC_VERSION=7
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=zpm
    - GCC_VERSION=7
global:
  env:
  - PROJECT=Fs
  - PROJECT_DIRECTORY=fs
  - PROJECT_TEMPLATE=latest
install:
- source /dev/stdin <<< "$(curl -s https://raw.githubusercontent.com/Zefiros-Software/ZPM/dev/script/install-zpm.sh)"
script:
- zpm run build-ci-library
after_success:
- zpm run deploy-ci-library
notifications:
  slack:
    secure: hFKGMT4WTXzWu7Sw+aUqPICv7TOhgeNcJUwgb4QbGN2lDAyjjlj0x59g7HeyotP6s9Lyh7LulgFdaKs4SBX/cXsIsk5oJZYYKvCEW39clf9wJqHYMgf0vNfQJO/Caemn7rEaAQC51Y/uXqeWCjmhtCfPcVZcHEKbGj5LAnE6Vk2IV9OOtiV6+8srjuoaBndbFQ0QZihOr8869DssOomyR3LvFVpRQtUGXk8XVGNx+iAJ/Ebdp8o0DSzXZ85j/byBJkf4+VshmsWPuP9gC3+xK7YZTXsJeIzgESoC7A/xMBL8e3Uy5rZvkoFQOgicflaEdSq2ONLqX9QBx6myJpiIihk63qgFNfuFlujiFKkZDzxvzDlB36IKLIGpQSjvv7S3qzxzHDplwUilv+OLKyFoe1vtc09/ANhjiKDkjIOTYP8Dk17uAbKxyyhKoYLyR+RpKQuOe+8HcHVwKcVkxRBj82Jss8DtCBvlKbMmYXvSILEXtZdW040XPQe2qOOJxGcJvckbOgMSAU+OV2PiDA5Z3MdhgxGt3Ta/fNx8xwFqPOdzYTssix1QQxuHDOjAz9TOYyWTsHmNoJFei5UCBXbG9opNX+llVDvM1YVKGD3lTM3Xv0vRlMw/NB/s3QYqQ7CcwBd+fvhK1aep0VyFAXm6uHYWMMnEPHwxhH6sdABbBTg=
