sudo: required
language: generic
matrix:
  include:
  - os: osx
    osx_image: xcode9.2
    language: generic
    env:
    - BUILD_CONFIG=release
    - BUILD_ARCHITECTURE=x86_64
  - os: osx
    osx_image: xcode9.2
    language: generic
    env:
    - BUILD_CONFIG=debug
    - BUILD_ARCHITECTURE=x86_64
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=coverage
    - BUILD_ARCHITECTURE=x86_64
    - GCC_VERSION=7
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=release
    - BUILD_ARCHITECTURE=x86_64
    - GCC_VERSION=7
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=debug
    - BUILD_ARCHITECTURE=x86_64
    - GCC_VERSION=7
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=release
    - BUILD_ARCHITECTURE=x86
    - GCC_VERSION=7
  - os: linux
    dist: trusty
    env:
    - BUILD_CONFIG=zpm
    - GCC_VERSION=7
global:
  env:
  - PROJECT=FileSystem
  - PROJECT_DIRECTORY=fs
  - PROJECT_TEMPLATE=latest
install:
- source /dev/stdin <<< "$(curl -s https://raw.githubusercontent.com/Zefiros-Software/ZPM/dev/script/install-zpm.sh)"
script:
- zpm run build-ci-library
after_success:
- zpm run deploy-ci-library
notifications:
  slack:
    secure: T5O+6tWRlHU0Ii/amm1SUUCPCR9uJHYQhglc6U/xFaJ4NiU3aEWARKVd3/dVd2L8omRNrUfVehNc8volcjI3r225Kq/z0s0eRebFydPcF24LZVHumyVnpH7VLwYUESo06Omd9eK6Pi8WbJ76VsCFTu88gsRk0DHTxtPSAE4dlprO48ekHEKdC3wyYTFOlAgvh+4Ka9BC6XHXPTkRluvJ9Awc9ivRkvJ4hs4WvxB991Q2+7TYNOCtJWAQLkzP33XtFudxLDayi7l7AGhIbhT7rFYnsMj9Vt4ANThsuEvbmJVkSz4vWF1H8IyU0mtGHMXXsm+rU05DwjDZQqJiQEcXJ7H+w+8CfXD98pscQcJ8fPmu5hPU+JXV8nb5DGZUCDBhqCe147axcG53+a/nsyX5FqncJ6xwoL89nple7oPOtXrqTW8cwVTGYXJnEg4hpserWP8pLTTT9RicfSv+kpzXReW8Y4E5GPcHzCYDsuztB/RscRWKz6IkIq8Ue84j7f26b6fjsVCDjmlV7gRBS4w6KMTWcmmQMg+tQaU0+ZjrRjgiaosvtUyZq1WKJyfQNhaVrKQHnBpBbfzoyU8mOvGFtQoosVZPGOmzX/arTkzR9TVGqFEBFqYT7DDjvscx9tr8hXuqghNdgWYvi00UN/xWUXyOM3V2PqWTkTDBUlilRZ8=
